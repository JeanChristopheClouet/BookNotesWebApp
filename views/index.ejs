<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body class="text-center">
    <br>
    <h1>Books Iâ€™ve read</h1>
    <p>Tiny summary but detailed notes for each.
       Use the ISBN number to find it from your local
       library or anywhere else. This page will constantly update
      as I read more, so bookmark it if you want to check back in a few months.

    </p>
    <span>
    <a href="/create">
    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="#77DD77" class="bi bi-file-earmark-plus" viewBox="0 0 16 16">
        <path d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5"/>
        <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"/>
      </svg>
    </a>      
    </span>

    <br>
    <br>
    <br>
    
    <form action="/sort-books" method="POST">
        <label for="exampleDropdown">Filter by:</label>
        <select id="exampleDropdown" class="form-select" name="filter-option">
            <option value="recency">Recency</option>
            <option value="rating">Rating</option>
        </select>    
        <input type="submit" class="btn btn-primary" value="Sort Books">       
    </form>
    <br>
    <br>
    <% booksArr.forEach((bookObject) => { %>
    <div id="<%=bookObject.isbn%>">
        <img class="bookImage" src="https://covers.openlibrary.org/b/isbn/<%=bookObject.isbn%>-M.jpg" />
        <h2>
            <a style="color: #A27B5C;" href="/<%=bookObject.id%>">
                <%=bookObject.title%>
            </a>
        </h2>
        <div>Date read : <%=bookObject.date_read%></div>
        <div>How strongly I recommend it : <%=bookObject.rating%></div>
        <div>Description : <%=bookObject.description%></div>

        <form action="/delete" method="POST">
            <input type="hidden" id="bookId" name="bookId" value="<%= bookObject.id %>">
            <input type="submit" class="btn btn-danger" value="delete">
        </form>
        <br>
    </div>  


    <% })%>    
</body>
<%-include("partials/footer.ejs")-%>

</html>